CREATE TABLE employee (
    employee_id INT PRIMARY KEY,
    firstname VARCHAR(10) NOT NULL,
    lastname VARCHAR(10) NOT NULL,
    age INT,
    startdate DATE,
    sex VARCHAR(1),
    branch_id INT,
    boss_id INT
);

CREATE TABLE branch (
    branch_name VARCHAR(15),
    manager_id INT,
    branch_id INT PRIMARY KEY,
    FOREIGN KEY(manager_id) REFERENCES employee(employee_id) ON DELETE SET NULL
);

ALTER TABLE employee
ADD FOREIGN KEY(branch_id)
REFERENCES branch(branch_id)
ON DELETE SET NULL;

ALTER TABLE employee
ADD FOREIGN KEY(boss_id)
REFERENCES employee(employee_id)
ON DELETE SET NULL;

CREATE TABLE clients(
client_id INT PRIMARY KEY,
client_name VARCHAR(10),
branch_id INT,
FOREIGN KEY(branch_id) REFERENCES branch(branch_id) ON DELETE SET NULL
);

CREATE TABLE employee_sales(
employee_id INT,
branch_id INT,
client_id INT,
sales INT,
PRIMARY KEY(branch_id, client_id),
FOREIGN KEY(employee_id) REFERENCES employee(employee_id) ON DELETE CASCADE,
FOREIGN KEY(branch_id) REFERENCES branch(branch_id) ON DELETE CASCADE,
FOREIGN KEY(client_id) REFERENCES clients(client_id) ON DELETE CASCADE
);

ALTER TABLE employee
DROP CONSTRAINT employee_ibfk_1;

ALTER TABLE branch
DROP CONSTRAINT branch_ibfk_1;

CREATE TABLE address(
    employee_id INT,
    branch_id INT,
    branch_name VARCHAR(15),
    employee_home varchar(14) PRIMARY KEY
);



select * from employee;
select * from branch;
describe employee;
DROP table employee;
drop table branch;